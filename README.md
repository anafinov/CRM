# Инструкция по установке CRM системы

## Предварительные требования

1. Установите Python 3.8 или выше с сайта [python.org](https://www.python.org/downloads/)
2. Установите PostgreSQL с сайта [postgresql.org](https://www.postgresql.org/download/)
   - При установке запомните пароль для пользователя postgres
   - Установите pgAdmin (обычно идет в комплекте с PostgreSQL)

## Шаги установки

1. Распакуйте файлы проекта в удобное место

2. Откройте командную строку (терминал) и перейдите в папку проекта:
```bash
cd путь/к/папке/CRM_flask
```

3. Создайте виртуальное окружение:
```bash
python -m venv .venv
```

4. Активируйте виртуальное окружение:
- Для Windows:
```bash
.venv\Scripts\activate
```
- Для Linux/Mac:
```bash
source .venv/bin/activate
```

5. Установите зависимости:
```bash
pip install -r requirements.txt
```

6. Создайте файл `.env` в корневой папке проекта со следующим содержимым:
```
SECRET_KEY=ваш-секретный-ключ
DATABASE_URL=postgresql://postgres:ваш-пароль@localhost:5432/crm_flask?client_encoding=utf8
```
Замените "ваш-пароль" на пароль, который вы указали при установке PostgreSQL

7. Создайте базу данных:
- Откройте pgAdmin
- Подключитесь к серверу PostgreSQL
- Создайте новую базу данных с именем "crm_flask"

8. Инициализируйте базу данных:
```bash
flask db init
flask db migrate -m "initial migration"
flask db upgrade
```

9. Запустите приложение:
```bash
python run.py
```

10. Откройте браузер и перейдите по адресу: http://localhost:5000

## Первые шаги после установки

1. Зарегистрируйте нового пользователя через веб-интерфейс
2. Войдите в систему
3. Начните добавлять клиентов и сделки

## Возможные проблемы

1. Если возникает ошибка подключения к базе данных:
   - Проверьте правильность пароля в файле `.env`
   - Убедитесь, что PostgreSQL запущен
   - Проверьте, что база данных "crm_flask" создана

2. Если не работает регистрация/вход:
   - Проверьте, что все миграции применены успешно
   - Попробуйте пересоздать базу данных

## Поддержка

При возникновении проблем обращайтесь к разработчику. 